<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File To Link</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
          integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            background: #0e0d0d;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            color: white;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        .logo {
            position: fixed;
            top: 10px;
            left: 10px;
            font-size: 24px;
            color: #03e9f4;
            font-weight: bold;
            z-index: 1;
            padding: 10px;
            background: #0e0d0d;
            border-radius: 5px;
            border: 2px solid;
            border-image-slice: 1;
            border-width: 2px;
            border-image-source: linear-gradient(45deg, #03e9f4, #ff005e, #03e9f4);
            animation: gradientBorder 3s linear infinite;
        }

        @keyframes gradientBorder {
            0% { border-image-source: linear-gradient(45deg, #03e9f4, #ff005e, #03e9f4); }
            100% { border-image-source: linear-gradient(405deg, #03e9f4, #ff005e, #03e9f4); }
        }

        .spacer { height: 80px; }

        .downloadBtn {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 15px 25px;
            background: linear-gradient(45deg, #03e9f4, #ff005e, #03e9f4);
            background-size: 200% 200%;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            letter-spacing: 1px;
            font-family: 'Josefin Sans', sans-serif;
            transition: 0.5s;
            margin: 10px;
            cursor: pointer;
            animation: gradientBG 3s linear infinite;
            flex: 1 1 calc(25% - 20px);
            min-width: 200px;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        button:hover {
            color: #0e0d0d;
            box-shadow: 0 0 5px #03e9f4, 0 0 25px #03e9f4, 0 0 50px #03e9f4;
        }

        h2 {
            font-family: 'Josefin Sans', sans-serif;
            font-weight: bold;
        }
    </style>
</head>

<body>

<div class="logo">Admins Hub</div>
<div class="spacer"></div>

<div class="downloadBtn">
    <button onclick="openVideo('vlc')"><i class="fas fa-play"></i> WATCH ON VLC PLAYER</button>
    <button onclick="openVideo('mx')"><i class="fas fa-play"></i> WATCH ON MX PLAYER</button>
    <button onclick="openVideo('playit')"><i class="fas fa-play"></i> WATCH ON PLAYit PLAYER</button>
    <button onclick="openVideo('xplayer')"><i class="fas fa-play"></i> WATCH ON X PLAYER</button>
    <button onclick="playOnline()"><i class="fas fa-play"></i> PLAY ONLINE</button>
    <button onclick="downloadVideo()"><i class="fas fa-download"></i> DIRECT DOWNLOAD</button>
</div>

<script>
    let directDownloadUrl = "";

    document.addEventListener("DOMContentLoaded", () => {
        const baseUrl = "{{file_url}}";
        directDownloadUrl = cleanUrl(baseUrl);

        const isTelegram = navigator.userAgent.includes("Telegram");
        const buttons = document.querySelectorAll(".downloadBtn button");
        const playOnlineBtn = document.querySelector("button[onclick=\"playOnline()\"]");

        if (isTelegram) {
            buttons.forEach(btn => {
                if (btn !== playOnlineBtn) btn.style.display = "none";
            });
        } else {
            playOnlineBtn.style.display = "none";
        }
    });

    function cleanUrl(url) {
        try {
            const u = new URL(url);
            u.pathname = u.pathname.replace("/watch/", "/stream/");
            return u.toString();
        } catch {
            return url;
        }
    }

    function openVideo(player) {
        const absoluteUrl = new URL(directDownloadUrl, window.location.origin).href;
        const noScheme = absoluteUrl.replace(/^https?:\/\//, "");

        let pkg = "";
        if (player === "vlc") pkg = "org.videolan.vlc";
        if (player === "mx") pkg = "com.mxtech.videoplayer.ad";
        if (player === "playit") pkg = "com.playit.videoplayer";
        if (player === "xplayer") pkg = "video.player.videoplayer";

        const intent =
            `intent://${noScheme}` +
            `#Intent;package=${pkg};type=video/*;scheme=https;action=android.intent.action.VIEW;end`;

        window.location.href = intent;
    }

    function playOnline() {
        window.location.href = directDownloadUrl;
    }

    function downloadVideo() {
        window.location.href = directDownloadUrl.replace("/stream/", "/download/");
    }
</script>

<br><br>
<h2>Disclaimer:</h2>
<p>
    The streaming links provided on this website are generated automatically by users through our Telegram bot.
    We do not host or store any media files.
</p>

<br><br>
<h2>Follow Now</h2>
<div>
    <a href="https://t.me/MzMoviiez"><i class="fab fa-telegram fa-2x" style="color:#0088CC"></i></a>
</div>

</body>
</html>
